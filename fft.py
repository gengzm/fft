import numpy as np
from scipy.fftpack import fft
import matplotlib.pyplot as plt

def Sample(sample_freq, freq_1, freq_2):
    Fs =sample_freq      # 采样频率
    f1 =freq_1       # 信号频率1
    f2 = freq_2      # 信号频率2
    t=np.linspace(0,1,Fs)   # 生成 1s 的实践序列   
    noise1 = np.random.random(10e3)      # 0-1 之间的随机噪声
    noise2 = np.random.normal(1,10,10e3)
    #产生的是一个10e3的高斯噪声点数组集合（均值为：1，标准差：10）
    y=2*np.sin(2*np.pi*f1*t)+5*np.sin(2*np.pi*f2*t)+noise2
    return y

y2 = np.array([0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, -0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, -0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, -0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, 0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, -0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, 0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, -0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, -0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, 0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, 0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, 0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, -0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011, -0.000000, 0.726011, 1.411131, 2.020613, 2.530944, 2.933013, 3.232819, 3.449609, 3.611768, 3.751192, 3.897114, 4.070466, 4.279754, 4.519166, 4.769241, 5.000000, 5.175978, 5.262310, 5.230811, 5.064988, 4.763140, 4.338978, 3.819680, 3.241697, 2.645034, 2.066987, 1.536422, 1.069557, 0.667986, 0.319274, -0.000000, -0.319274, -0.667986, -1.069557, -1.536422, -2.066987, -2.645034, -3.241697, -3.819680, -4.338978, -4.763140, -5.064988, -5.230811, -5.262310, -5.175978, -5.000000, -4.769241, -4.519166, -4.279754, -4.070466, -3.897114, -3.751192, -3.611768, -3.449609, -3.232819, -2.933013, -2.530944, -2.020613, -1.411131, -0.726011]);

def FFT (sample_freq, data):
    
    # 执行FFT
    fft_result = np.fft.fft(data)
    N = len(data)
    
    # 对幅值做处理
    fft_result = [x/N*2 for x in fft_result]
    fft_result[0] /= 2
    
    freq = np.fft.fftfreq(N, 1/sample_freq)
    fft_result_half = fft_result[:N//2]
    return freq, fft_result


plt.plot(y2)
plt.title('Wave curve')
plt.show()

sample_freq = 300
freq, fft_result = FFT (sample_freq, y2)


fft_abs = np.abs(fft_result)
plt.plot(freq, fft_abs)
plt.title('FFT curve')
plt.show()

np.savetxt('fft.txt', fft_abs, fmt='%f') 
np.savetxt('freq.txt', freq, fmt='%f') 
